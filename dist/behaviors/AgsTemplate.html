<link rel="import" href="TemplateRegistry.html">

<script>

  (function (augeas) {

    /**
     *
     * When used in an element, its instances must contain a `<template>` as child:
     *
     *     <my-form-template>
     *         <template>
     *             <paper-uber-input />
     *         </template>
     *     </my-form-template>
     *
     * @polymerBehavior Augeas.AgsTemplate */
    augeas.AgsTemplate = {

      properties: {
        /**
         * The first `<template>` element
         */
        template: {
          readOnly: true,
          value: function() {
            return this.$$('template');
          }
        }
      },

      ready: function() {
        this.setAttribute('ags-template', '');
      },

      attached: function() {
        this.fire('ags-' + this._kind() + '-templates-changed', { }, { bubbles: true });
      },

      detached: function() {
        document.dispatchEvent(new CustomEvent('ags-' + this._kind() + '-templates-changed'));
      },

      /**
       * Implemented in derived element to determine whether the given template
       * can be used to render elements for the set of input parameters.
       */
      isMatch: function(object, predicate, scope) {
        throw Error('Template does no implement method isMatch');
      },

      _kind: function () {
        throw Error('Template does not implement method _kind');
      },
    };

  })(window.Augeas || (window.Augeas = {}));
</script>